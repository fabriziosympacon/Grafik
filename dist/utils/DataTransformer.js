sap.ui.define([],function(){"use strict";return{transformApiDataToGraphData:function(r){console.log("API Response in DataTransformer:",r);var e={nodes:[],lines:[]};var a=[];var n={};if(!Array.isArray(r)){console.error("Invalid API response: Expected an array.",r);return{graphData:e,tableData:a}}r.forEach(function(r){if(!r||!r.vorgaengerHierarchy){console.error("Invalid data in API object:",r);return}var t=r.Archivierungsobjekt;var o="VORG_"+t;if(!n[o]){n[o]={key:o,title:t,attributes:[{label:r.O_DE}]};e.nodes.push(n[o]);a.push({Vorgaenger:t,V_DE:r.O_DE,V_EN:r.O_EN,key:o})}r.vorgaengerHierarchy.forEach(function(r){if(!r)return;var t="VORG_"+(r.Vorgaenger||r.Archivierungsobjekt);var i="VORG_"+r.Archivierungsobjekt;if(!n[t]){n[t]={key:t,title:r.Vorgaenger||r.Archivierungsobjekt,attributes:[{label:r.V_DE||r.O_DE}]};e.nodes.push(n[t]);a.push({Vorgaenger:r.Vorgaenger||r.Archivierungsobjekt,V_DE:r.V_DE||r.O_DE,V_EN:r.V_EN||r.O_EN,key:t})}if(!n[i]){n[i]={key:i,title:r.Archivierungsobjekt,attributes:[{label:r.O_DE}]};e.nodes.push(n[i]);a.push({Vorgaenger:r.Archivierungsobjekt,V_DE:r.O_DE,V_EN:r.O_EN,key:i})}if(t!==i){var s=e.lines.some(function(r){return r.from===t&&r.to===i});if(!s){e.lines.push({from:t,to:i})}}if(r.level===0&&n[i]&&!e.lines.some(r=>r.from===i&&r.to===o)){e.lines.push({from:i,to:o})}})});a.sort(function(r,e){var a=r.Vorgaenger.toUpperCase();var n=e.Vorgaenger.toUpperCase();if(a<n){return-1}if(a>n){return 1}return 0});console.log("Final Combined Data:",{graphData:e,tableData:a});return{graphData:e,tableData:a}}}});
//# sourceMappingURL=DataTransformer.js.map